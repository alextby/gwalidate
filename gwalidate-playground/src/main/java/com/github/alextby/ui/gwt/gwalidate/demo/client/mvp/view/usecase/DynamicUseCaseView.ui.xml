<!DOCTYPE ui:UiBinder SYSTEM "http://dl.google.com/gwt/DTD/xhtml.ent">
<ui:UiBinder xmlns:ui="urn:ui:com.google.gwt.uibinder"
             xmlns:g="urn:import:com.google.gwt.user.client.ui"
             xmlns:demo="urn:import:com.github.alextby.ui.gwt.gwalidate.demo.client.validate.widget"
             xmlns:v="urn:import:com.github.alextby.ui.gwt.gwalidate.core.dom"
             xmlns:vpanel="urn:import:com.github.alextby.ui.gwt.gwalidate.core.engine"
             xmlns:bs="urn:import:com.github.gwtbootstrap.client.ui">

    <g:HTMLPanel>

        <div class="row-fluid">

            <g:HTMLPanel addStyleNames="left-help-panel pull-left">

                <div class="alert alert-info">
                    <h3>Case Description</h3>
                    <p>
                        The purpose of this case is to demonstrate dynamic capabilities of <b>GWalidate</b>.
                    </p>
                    <p>
                        The form on the right allows to:<br/>
                        <ul>
                            <li>
                                Set/unset the <i>Name</i> field required.
                            </li>
                            <li>
                                Turn on/off validation on multiple fields: <i>Phone</i> and <i>Email</i>
                                (both are marked by the same validation category).
                            </li>
                            <li>
                                Perform cross-field validation:
                                field <i>Category</i> does not allow <i>BIKINI</i> selected in combination with
                                <i>MALE</i> selected in field <i>Gender</i>.
                            </li>
                            <li>
                                Add/evict validatable widgets newly added to the DOM:
                                the <i>Attributes</i> section allows to insert/remove a few more text boxes with a "no spaces" rule.
                            </li>
                        </ul>
                    </p>
                </div>

                <div class="alert alert-info">
                    <h3>Panel Functions</h3>
                    <ul>
                        <li><i>Nullify</i> will simply clear any validation errors (validation context)</li>
                        <li>
                            <i>Hard Rescan</i> will purge the existing validation config and rescan everything from scratch.
                            Any dynamically added validation rules (incl. cross-field rules) will go away and must be restored.
                        </li>
                        <li>
                            <i>Rescan</i> simply scans the DOM for newly added widgets.
                        </li>
                    </ul>
                </div>

            </g:HTMLPanel>

            <vpanel:ValidationPanel ui:field="validationPanel" styleName="validation-panel pull-left">

                <g:HTMLPanel styleName="bs-docs-example form-inline form-horizontal">

                    <g:HTMLPanel tag="fieldset">

                        <br/>

                        <div class="controls">
                            <bs:CheckBox ui:field="nameRequiredCheckBox" text="Name Required?"/>
                        </div>
                        <demo:ValidatedField label="Name" ui:field="nameField">
                            <demo:widget>
                                <bs:TextBox/>
                            </demo:widget>
                            <v:Size max="10"/>
                        </demo:ValidatedField>

                        <hr/>

                        <div class="controls">
                            <bs:CheckBox ui:field="phoneAndEmailValidatedCheckBox" text="'Phone' and 'Email' fields validated?"/>
                        </div>
                        <demo:ValidatedField label="Phone" required="true">
                            <demo:widget>
                                <bs:TextBox/>
                            </demo:widget>
                            <v:Match pattern="PHONE"/>
                            <v:Category in="PHONE_AND_EMAIL"/>
                        </demo:ValidatedField>

                        <demo:ValidatedField label="Email" required="true">
                            <demo:widget>
                                <bs:TextBox/>
                            </demo:widget>
                            <v:Match pattern="EMAIL"/>
                            <v:Category in="PHONE_AND_EMAIL"/>
                        </demo:ValidatedField>

                        <hr/>

                        <demo:ValidatedField label="Gender" ui:field="genderField" required="true">
                            <demo:widget>
                                <bs:ValueListBox ui:field="genderListBox"/>
                            </demo:widget>
                        </demo:ValidatedField>

                        <demo:ValidatedField label="Category" required="true" ui:field="categoryField">
                            <demo:widget>
                                <bs:ValueListBox ui:field="categoryListBox"/>
                            </demo:widget>
                        </demo:ValidatedField>

                        <hr/>

                        <g:Label text="Attributes:" addStyleNames="controls"/>
                        <g:FlowPanel ui:field="urlsPanel">
                        </g:FlowPanel>
                        <div class="controls">
                            <bs:Button styleName="btn" ui:field="addUrlButton" size="SMALL" icon="PLUS" text="Add"/>
                            <bs:Button styleName="btn" ui:field="minusUrlButton" size="SMALL" icon="MINUS" text="Remove"/>
                        </div>

                        <br/>
                        <hr/>

                        <div class="controls">
                            <div class="row">
                                <div class="span2">
                                    <g:SubmitButton ui:field="validateBtn"/>
                                </div>
                                <div>
                                    <bs:Button ui:field="resetBtn" styleName="btn btn-large btn-info">Nullify</bs:Button>
                                    <bs:Button ui:field="hardRescanBtn" styleName="btn btn-large btn-info">Hard Rescan</bs:Button>
                                    <bs:Button ui:field="rescanBtn" styleName="btn btn-large btn-info">Rescan</bs:Button>
                                </div>
                            </div>
                        </div>
                        <br/>

                    </g:HTMLPanel>

                </g:HTMLPanel>

            </vpanel:ValidationPanel>

        </div>

    </g:HTMLPanel>

</ui:UiBinder>
